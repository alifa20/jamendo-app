{
  "version": "0.7.1",
  "meta": {
    "version": "1.0.0",
    "lastUpdated": "2025-11-22T06:15:16.585Z"
  },
  "workUnits": {
    "FOUND-001": {
      "id": "FOUND-001",
      "title": "Conduct Foundation Event Storm for Foundation",
      "status": "done",
      "createdAt": "2025-11-21T04:46:59.781Z",
      "updatedAt": "2025-11-21T04:52:39.894Z",
      "stateHistory": [
        {
          "state": "backlog",
          "timestamp": "2025-11-21T04:46:59.781Z"
        },
        {
          "state": "specifying",
          "timestamp": "2025-11-21T04:47:54.865Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T04:52:26.148Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T04:52:33.424Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T04:52:39.894Z"
        }
      ],
      "description": "Complete the foundation by capturing domain architecture through Foundation Event Storm.\n\nUse these commands to populate foundation.json eventStorm field:\n- fspec add-foundation-bounded-context <name>\n- fspec add-aggregate-to-foundation <context> <aggregate>\n- fspec add-domain-event-to-foundation <context> <event>\n- fspec show-foundation-event-storm\n\nWhy this matters:\n- Establishes bounded contexts for domain-driven design\n- Enables tag ontology generation from domain model\n- Provides foundation for architectural documentation\n- Supports EXMAP-004 tag discovery workflow\n\nSee spec/CLAUDE.md \"Foundation Event Storm\" section for detailed guidance.",
      "type": "task",
      "rules": [],
      "examples": [],
      "questions": [],
      "architectureNotes": [],
      "nextRuleId": 0,
      "nextExampleId": 0,
      "nextQuestionId": 0,
      "nextNoteId": 0,
      "updated": "2025-11-21T04:52:39.894Z"
    },
    "COMP-001": {
      "id": "COMP-001",
      "title": "Simplify SearchBar debounce implementation",
      "type": "task",
      "status": "backlog",
      "createdAt": "2025-11-21T05:45:28.484Z",
      "updatedAt": "2025-11-21T05:45:28.484Z",
      "description": "Refactor SearchBar component to use a single useEffect or custom hook for debouncing, eliminating the dependency array issue with onChangeText callback. Current implementation has two useEffect hooks that can cause unnecessary re-renders when parent doesn't memoize the callback.",
      "children": []
    },
    "JAM-001": {
      "id": "JAM-001",
      "title": "Setup project dependencies and package structure",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:15.933Z",
      "updatedAt": "2025-11-21T11:05:40.301Z",
      "description": "Install RTK Query, audio libraries (expo-audio, react-native-audio-pro), FlashList, environment variables support. Create rtk-services and components package directories",
      "epic": "jamendo-app",
      "children": [],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T09:33:33.209Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T09:54:54.969Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T09:59:40.333Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T11:02:50.957Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T11:04:31.190Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T11:04:58.285Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T11:05:40.301Z"
        }
      ],
      "userStory": {
        "role": "developer",
        "action": "set up project dependencies and package structure",
        "benefit": "I can start building features with the required libraries"
      },
      "questions": [
        {
          "id": 0,
          "text": "@human: Should we install @reduxjs/toolkit and configure RTK Query with a base API service, or just install the package?",
          "deleted": false,
          "createdAt": "2025-11-21T09:34:25.039Z",
          "selected": true,
          "answered": true,
          "answer": "RTK Query is already configured in @packages/rtk-services/, so we can skip this"
        },
        {
          "id": 1,
          "text": "@human: Should we install both expo-audio and react-native-audio-pro, or choose one? What's the preferred audio solution?",
          "deleted": false,
          "createdAt": "2025-11-21T09:34:44.572Z",
          "selected": true,
          "answered": true,
          "answer": "Use expo-audio for now"
        },
        {
          "id": 2,
          "text": "@human: For the rtk-services package, should it be named @jamendo/rtk-services? What about the components package name?",
          "deleted": false,
          "createdAt": "2025-11-21T09:34:51.686Z",
          "selected": true,
          "answered": true,
          "answer": "Yes, follow @jamendo/ naming convention (already done)"
        },
        {
          "id": 3,
          "text": "@human: What specific environment variables need to be configured besides EXPO_PUBLIC_JAMENDO_CLIENT_ID?",
          "deleted": false,
          "createdAt": "2025-11-21T09:35:26.763Z",
          "selected": true,
          "answered": true,
          "answer": "EXPO_PUBLIC_JAMENDO_CLIENT_ID (required), EXPO_PUBLIC_JAMENDO_API_URL (optional, defaults to https://api.jamendo.com/v3.0)"
        },
        {
          "id": 4,
          "text": "@human: Should FlashList replace existing FlatList usage in the codebase, or is it only for new features?",
          "deleted": false,
          "createdAt": "2025-11-21T09:35:37.035Z",
          "selected": true,
          "answered": true,
          "answer": "No FlatList exists currently. Use FlashList for all list implementations going forward. Do not remove or touch FlatList if found."
        }
      ],
      "nextQuestionId": 5,
      "rules": [
        {
          "id": 0,
          "text": "expo-audio must be installed for audio playback functionality",
          "deleted": false,
          "createdAt": "2025-11-21T09:39:04.742Z"
        },
        {
          "id": 1,
          "text": "@shopify/flash-list must be installed for performant list rendering",
          "deleted": false,
          "createdAt": "2025-11-21T09:39:09.369Z"
        },
        {
          "id": 2,
          "text": "Environment variables must be configured in .env file with EXPO_PUBLIC_JAMENDO_CLIENT_ID (required)",
          "deleted": false,
          "createdAt": "2025-11-21T09:39:14.321Z"
        },
        {
          "id": 3,
          "text": "All installed packages must appear in package.json dependencies",
          "deleted": false,
          "createdAt": "2025-11-21T09:39:20.055Z"
        },
        {
          "id": 4,
          "text": "@jamendo/components package must be added as dependency in apps/example",
          "deleted": false,
          "createdAt": "2025-11-21T09:41:30.829Z"
        },
        {
          "id": 5,
          "text": "@jamendo/rtk-services package must be added as dependency in apps/example",
          "deleted": false,
          "createdAt": "2025-11-21T09:41:35.691Z"
        }
      ],
      "nextRuleId": 6,
      "examples": [
        {
          "id": 0,
          "text": "Developer runs 'pnpm add expo-audio' in apps/example directory, expo-audio appears in package.json",
          "deleted": false,
          "createdAt": "2025-11-21T09:40:38.228Z"
        },
        {
          "id": 1,
          "text": "Developer runs 'pnpm add @shopify/flash-list' in apps/example directory, @shopify/flash-list appears in package.json",
          "deleted": false,
          "createdAt": "2025-11-21T09:40:42.855Z"
        },
        {
          "id": 2,
          "text": "Developer creates .env file in apps/example with EXPO_PUBLIC_JAMENDO_CLIENT_ID=test_client_id",
          "deleted": false,
          "createdAt": "2025-11-21T09:40:48.109Z"
        },
        {
          "id": 3,
          "text": "Developer runs 'pnpm install' and all packages install successfully without errors",
          "deleted": false,
          "createdAt": "2025-11-21T09:40:52.932Z"
        },
        {
          "id": 4,
          "text": "Developer adds @jamendo/components as dependency in apps/example/package.json",
          "deleted": false,
          "createdAt": "2025-11-21T09:41:40.795Z"
        },
        {
          "id": 5,
          "text": "Developer adds @jamendo/rtk-services as dependency in apps/example/package.json",
          "deleted": false,
          "createdAt": "2025-11-21T09:41:45.790Z"
        }
      ],
      "nextExampleId": 6,
      "estimate": 2,
      "architectureNotes": [
        {
          "id": 0,
          "text": "Implementation approach: Add workspace dependencies (@jamendo/components, @jamendo/rtk-services) to apps/example/package.json using workspace:* protocol. Install npm packages (expo-audio, @shopify/flash-list) directly. Create .env file with EXPO_PUBLIC_JAMENDO_CLIENT_ID. Alignment: Follows existing monorepo structure and workspace dependency pattern already used for @jamendo/feature-home.",
          "deleted": false,
          "createdAt": "2025-11-21T09:51:00.983Z"
        }
      ],
      "nextNoteId": 1,
      "attachments": [
        "spec/attachments/JAM-001/ast-research-package-structure.json"
      ],
      "updated": "2025-11-21T11:05:40.301Z"
    },
    "JAM-002": {
      "id": "JAM-002",
      "title": "Configure RTK Services package with Jamendo API",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:21.095Z",
      "updatedAt": "2025-11-21T09:51:07.829Z",
      "description": "Create @jamendo/rtk-services package with baseApi, jamendoApi endpoints (searchTracks, getTrackDetail), TypeScript types, and Redux store configuration",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-001"
      ],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T09:35:26.830Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T09:45:08.264Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T09:47:52.639Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T09:50:16.165Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T09:51:07.829Z"
        }
      ],
      "userStory": {
        "role": "mobile app developer",
        "action": "integrate Jamendo API using RTK Query",
        "benefit": "I can search tracks and fetch track details with automatic caching"
      },
      "rules": [
        {
          "id": 0,
          "text": "Base API must be configured with Jamendo API v3.0 endpoint (https://api.jamendo.com/v3.0)",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:20.620Z"
        },
        {
          "id": 1,
          "text": "All API requests must include client_id from EXPO_PUBLIC_JAMENDO_CLIENT_ID environment variable",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:21.580Z"
        },
        {
          "id": 2,
          "text": "Search endpoint must request minimal fields (id, name, artist_name, image) for optimal performance",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:22.547Z"
        },
        {
          "id": 3,
          "text": "Detail endpoint must request full track data including audio URL with mp31 format",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:23.628Z"
        },
        {
          "id": 4,
          "text": "Redux store must be configured with jamendoApi reducer and RTK Query middleware",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:24.691Z"
        },
        {
          "id": 5,
          "text": "API responses must be fully typed with TypeScript interfaces",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:25.791Z"
        },
        {
          "id": 6,
          "text": "When track detail returns empty results, endpoint must return a 'track not found' message instead of throwing an error",
          "deleted": false,
          "createdAt": "2025-11-21T09:40:32.517Z"
        }
      ],
      "nextRuleId": 7,
      "examples": [
        {
          "id": 0,
          "text": "Developer calls useSearchTracksQuery('jazz') and receives results with id, name, artist_name, and image fields only",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:37.983Z"
        },
        {
          "id": 1,
          "text": "Developer calls useGetTrackDetailQuery('12345') and receives full track data including audio URL",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:38.960Z"
        },
        {
          "id": 2,
          "text": "Search request is made to https://api.jamendo.com/v3.0/tracks with namesearch parameter and limit=20",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:39.934Z"
        },
        {
          "id": 3,
          "text": "Detail request is made to https://api.jamendo.com/v3.0/tracks with id parameter and audioformat=mp31",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:40.834Z"
        },
        {
          "id": 4,
          "text": "Store is created with jamendoApi reducer at 'jamendoApi' path and RTK Query middleware configured",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:41.741Z"
        },
        {
          "id": 5,
          "text": "Developer imports JamendoTrack, JamendoSearchResponse types and gets full TypeScript autocomplete",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:42.649Z"
        },
        {
          "id": 6,
          "text": "Detail endpoint transforms response array to single track object, throwing error if track not found",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:43.549Z"
        },
        {
          "id": 7,
          "text": "Developer calls useGetTrackDetailQuery('99999999') for non-existent track and receives {error: 'track not found'} response",
          "deleted": false,
          "createdAt": "2025-11-21T09:40:33.127Z"
        }
      ],
      "nextExampleId": 8,
      "questions": [
        {
          "id": 0,
          "text": "@human: Should the search endpoint use 'namesearch' parameter (searches track names and artist names), or should we also support other search types like 'search' (full-text) or 'artist_name'?",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:55.670Z",
          "selected": true,
          "answered": true,
          "answer": "Use 'namesearch' parameter (current implementation) which searches both track names and artist names"
        },
        {
          "id": 1,
          "text": "@human: When track detail is not found (empty results array), should we throw an error or return null/undefined?",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:56.633Z",
          "selected": true,
          "answered": true,
          "answer": "Return a message 'track not found' instead of throwing an error (needs implementation change)"
        },
        {
          "id": 2,
          "text": "@human: Should we validate that EXPO_PUBLIC_JAMENDO_CLIENT_ID is set, or let API requests fail with 401?",
          "deleted": false,
          "createdAt": "2025-11-21T09:38:57.593Z",
          "selected": true,
          "answered": true,
          "answer": "Let API requests fail with 401 - no upfront validation needed (current implementation is correct)"
        }
      ],
      "nextQuestionId": 3,
      "architectureNotes": [
        {
          "id": 0,
          "text": "RTK Query configuration using @reduxjs/toolkit with fetchBaseQuery. Base API endpoint: https://api.jamendo.com/v3.0. Search endpoint uses minimal fields (id, name, artist_name, image) for list views. Detail endpoint includes audio URL with mp31 format and musicinfo+lyrics.",
          "deleted": false,
          "createdAt": "2025-11-21T09:42:54.733Z"
        },
        {
          "id": 1,
          "text": "Implementation change needed: getTrackDetail transformResponse should return {error: 'track not found'} for empty results instead of throwing exception. This allows components to handle track-not-found gracefully without error boundaries.",
          "deleted": false,
          "createdAt": "2025-11-21T09:42:55.706Z"
        },
        {
          "id": 2,
          "text": "Store configuration exports configured store with jamendoApi reducer at 'jamendoApi' path and RTK Query middleware. Exports RootState and AppDispatch types for typed hooks. All API types (JamendoTrack, JamendoSearchResponse, JamendoTrackDetailResponse) exported for TypeScript autocomplete.",
          "deleted": false,
          "createdAt": "2025-11-21T09:42:56.665Z"
        }
      ],
      "nextNoteId": 3,
      "attachments": [
        "spec/attachments/JAM-002/ast-research-jamendoApi.json",
        "spec/attachments/JAM-002/ast-research-baseApi.json",
        "spec/attachments/JAM-002/ast-research-store.json"
      ],
      "updated": "2025-11-21T09:51:07.829Z"
    },
    "JAM-003": {
      "id": "JAM-003",
      "title": "Configure Components package with audio players and UI",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:26.102Z",
      "updatedAt": "2025-11-21T23:02:17.767Z",
      "description": "Create @jamendo/components package with ExpoAudioPlayer, AudioProPlayer, TrackCard, TrackList (FlashList), and SearchBar components",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-001"
      ],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T12:27:41.743Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T12:35:32.751Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T12:40:14.022Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T22:55:42.149Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T23:02:17.767Z"
        }
      ],
      "userStory": {
        "role": "music listener using the Jamendo app",
        "action": "play audio tracks with a simple and intuitive audio player",
        "benefit": "I can listen to music with standard playback controls"
      },
      "questions": [
        {
          "id": 0,
          "text": "@human: You mentioned ExpoAudioPlayer component. What specific playback controls should it have? (play/pause, seek bar, volume, playback speed, etc.)",
          "deleted": false,
          "createdAt": "2025-11-21T12:27:54.979Z",
          "selected": true,
          "answered": true,
          "answer": "Basic controls only: play/pause button"
        },
        {
          "id": 1,
          "text": "@human: Should the ExpoAudioPlayer display track metadata (title, artist, album art) or just playback controls?",
          "deleted": false,
          "createdAt": "2025-11-21T12:27:59.253Z",
          "selected": true,
          "answered": true,
          "answer": "Display track title, artist name, and album art"
        },
        {
          "id": 2,
          "text": "@human: The work unit mentions 'AudioProPlayer' as well. Do you still want both ExpoAudioPlayer AND AudioProPlayer, or should we focus on just ExpoAudioPlayer for now?",
          "deleted": false,
          "createdAt": "2025-11-21T12:28:04.150Z",
          "selected": true,
          "answered": true,
          "answer": "Just ExpoAudioPlayer for now"
        },
        {
          "id": 3,
          "text": "@human: Should the audio player handle errors (e.g., network failure, invalid audio URL)? If so, what should the error UI look like?",
          "deleted": false,
          "createdAt": "2025-11-21T12:28:08.857Z",
          "selected": true,
          "answered": true,
          "answer": "Show generic error message: 'An error occurred while loading audio'"
        },
        {
          "id": 4,
          "text": "@human: The work unit mentions TrackCard, TrackList (FlashList), and SearchBar components. Should all of these be part of JAM-003, or should we break them into separate work units and focus JAM-003 only on the audio player?",
          "deleted": false,
          "createdAt": "2025-11-21T12:28:13.346Z",
          "selected": true,
          "answered": true,
          "answer": "Focus JAM-003 on ExpoAudioPlayer only. Create separate work units for TrackCard, TrackList, and SearchBar"
        },
        {
          "id": 5,
          "text": "@human: Should the audio player remember playback state (e.g., continue from last position if user leaves and returns)?",
          "deleted": false,
          "createdAt": "2025-11-21T12:28:18.039Z",
          "selected": true,
          "answered": true,
          "answer": "No playback state persistence - player resets when navigating away"
        }
      ],
      "nextQuestionId": 6,
      "rules": [
        {
          "id": 0,
          "text": "ExpoAudioPlayer must display track title, artist name, and album art",
          "deleted": false,
          "createdAt": "2025-11-21T12:30:58.445Z"
        },
        {
          "id": 1,
          "text": "ExpoAudioPlayer must have basic play/pause button control",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:04.078Z"
        },
        {
          "id": 2,
          "text": "ExpoAudioPlayer must use expo-av Audio API for playback",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:07.678Z"
        },
        {
          "id": 3,
          "text": "ExpoAudioPlayer must show error message 'An error occurred while loading audio' when audio fails to load",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:11.394Z"
        },
        {
          "id": 4,
          "text": "ExpoAudioPlayer must not persist playback state - resets when user navigates away",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:15.155Z"
        },
        {
          "id": 5,
          "text": "ExpoAudioPlayer must be part of @jamendo/components package",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:19.193Z"
        },
        {
          "id": 6,
          "text": "Component must accept track data as props: audioUrl, title, artistName, albumArtUrl",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:22.980Z"
        }
      ],
      "nextRuleId": 7,
      "examples": [
        {
          "id": 0,
          "text": "User sees ExpoAudioPlayer with track 'Summer Vibes', artist 'Cool Band', album art displayed, and play button in paused state",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:27.915Z"
        },
        {
          "id": 1,
          "text": "User taps play button, audio starts playing, play button changes to pause icon",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:34.263Z"
        },
        {
          "id": 2,
          "text": "User taps pause button while audio is playing, audio stops, button changes back to play icon",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:38.419Z"
        },
        {
          "id": 3,
          "text": "Audio URL fails to load (network error), user sees error message 'An error occurred while loading audio'",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:42.745Z"
        },
        {
          "id": 4,
          "text": "User navigates away from page with playing audio, then returns - player is reset (not playing, at beginning)",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:47.503Z"
        },
        {
          "id": 5,
          "text": "Component receives props: audioUrl='https://api.jamendo.com/track/123.mp3', title='Summer Vibes', artistName='Cool Band', albumArtUrl='https://api.jamendo.com/art/123.jpg'",
          "deleted": false,
          "createdAt": "2025-11-21T12:31:51.957Z"
        }
      ],
      "nextExampleId": 6,
      "estimate": 3,
      "attachments": [
        "spec/attachments/JAM-003/ast-research-component-patterns.json"
      ],
      "architectureNotes": [
        {
          "id": 0,
          "text": "Create new package @jamendo/components at packages/components/ following monorepo structure. Package.json with name '@jamendo/components', main export from src/index.ts, TypeScript configuration matching feature-home package.",
          "deleted": false,
          "createdAt": "2025-11-21T12:35:02.922Z"
        },
        {
          "id": 1,
          "text": "ExpoAudioPlayer component implementation at packages/components/src/ExpoAudioPlayer.tsx. TypeScript functional component using React hooks (useState, useEffect). Props interface: { audioUrl: string; title: string; artistName: string; albumArtUrl: string }.",
          "deleted": false,
          "createdAt": "2025-11-21T12:35:07.878Z"
        },
        {
          "id": 2,
          "text": "Audio playback using expo-av: import { Audio } from 'expo-av'. Lifecycle: useEffect creates Audio.Sound instance via Audio.Sound.createAsync(audioUrl), stores in state. Cleanup: sound.unloadAsync() on unmount. Play/pause via sound.playAsync() and sound.pauseAsync().",
          "deleted": false,
          "createdAt": "2025-11-21T12:35:12.991Z"
        },
        {
          "id": 3,
          "text": "State management: useState for isPlaying (boolean), sound (Audio.Sound | null), error (string | null). Error handling in try-catch blocks, sets error state on failure. UI conditionally renders error message when error !== null.",
          "deleted": false,
          "createdAt": "2025-11-21T12:35:18.130Z"
        },
        {
          "id": 4,
          "text": "UI layout: React Native View container, Image for album art, Text components for title/artist (following ThemedText pattern from app), TouchableOpacity for play/pause button. Button icon switches based on isPlaying state.",
          "deleted": false,
          "createdAt": "2025-11-21T12:35:23.109Z"
        },
        {
          "id": 5,
          "text": "Dependencies: expo-av (for Audio API), react-native (View, Text, Image, TouchableOpacity). Add expo-av to packages/components/package.json. Export ExpoAudioPlayer as named export from packages/components/src/index.ts.",
          "deleted": false,
          "createdAt": "2025-11-21T12:35:28.416Z"
        }
      ],
      "nextNoteId": 6,
      "updated": "2025-11-21T23:02:17.767Z"
    },
    "JAM-004": {
      "id": "JAM-004",
      "title": "Configure environment variables and Jamendo API client",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:32.154Z",
      "updatedAt": "2025-11-21T10:52:51.122Z",
      "description": "Setup .env file with EXPO_PUBLIC_JAMENDO_CLIENT_ID, update app.json for environment variables, create config.ts constants file",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-001"
      ],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T10:21:50.839Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T10:29:25.577Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T10:43:27.449Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T10:50:37.641Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T10:52:51.122Z"
        }
      ],
      "userStory": {
        "role": "mobile app developer",
        "action": "configure Jamendo API credentials securely",
        "benefit": "I can access the Jamendo API without hardcoding sensitive keys"
      },
      "rules": [
        {
          "id": 0,
          "text": ".env file must be created in apps/example/ directory with EXPO_PUBLIC_JAMENDO_CLIENT_ID and EXPO_PUBLIC_JAMENDO_API_URL",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:39.168Z"
        },
        {
          "id": 1,
          "text": "Environment variables must use EXPO_PUBLIC_ prefix to be accessible in Expo app",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:39.715Z"
        },
        {
          "id": 2,
          "text": ".env file must be gitignored to prevent committing sensitive credentials",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:40.271Z"
        },
        {
          "id": 3,
          "text": "config.ts file must export typed constants from environment variables",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:40.823Z"
        },
        {
          "id": 4,
          "text": "config.ts must provide validation that required environment variables are set",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:41.383Z"
        },
        {
          "id": 5,
          "text": ".env.example file must be kept up to date as template for developers",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:41.955Z"
        },
        {
          "id": 6,
          "text": "config.ts must throw error at module load time (fail fast) if required environment variables are missing",
          "deleted": false,
          "createdAt": "2025-11-21T10:24:55.842Z"
        }
      ],
      "nextRuleId": 7,
      "examples": [
        {
          "id": 0,
          "text": "Developer creates .env file with EXPO_PUBLIC_JAMENDO_CLIENT_ID=abc123 and can access it via process.env",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:51.950Z"
        },
        {
          "id": 1,
          "text": "Developer imports { JAMENDO_CLIENT_ID, JAMENDO_API_URL } from config.ts and uses typed constants",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:52.492Z"
        },
        {
          "id": 2,
          "text": "Developer forgets to set EXPO_PUBLIC_JAMENDO_CLIENT_ID and app throws clear error message at startup",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:53.047Z"
        },
        {
          "id": 3,
          "text": "Developer runs 'git status' and .env file is not shown (gitignored)",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:53.614Z"
        },
        {
          "id": 4,
          "text": "New developer clones repo, copies .env.example to .env, adds their client ID, and app works",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:54.184Z"
        },
        {
          "id": 5,
          "text": "config.ts exports JAMENDO_CLIENT_ID as non-nullable string after validation",
          "deleted": false,
          "createdAt": "2025-11-21T10:22:54.770Z"
        }
      ],
      "nextExampleId": 6,
      "questions": [
        {
          "id": 0,
          "text": "@human: Should config.ts throw an error at module load time if variables are missing, or return undefined and let callers handle it?",
          "deleted": false,
          "createdAt": "2025-11-21T10:23:02.823Z",
          "selected": true,
          "answered": true,
          "answer": "Throw error at module load time if required environment variables are missing - fail fast approach"
        },
        {
          "id": 1,
          "text": "@human: Should we add any other environment variables now (like API timeout, max retries), or just the two from .env.example?",
          "deleted": false,
          "createdAt": "2025-11-21T10:23:03.423Z",
          "selected": true,
          "answered": true,
          "answer": "Stick with the two existing variables from .env.example (JAMENDO_CLIENT_ID and JAMENDO_API_URL)"
        },
        {
          "id": 2,
          "text": "@human: Where should config.ts be located - in apps/example/ or in a shared package?",
          "deleted": false,
          "createdAt": "2025-11-21T10:23:03.977Z",
          "selected": true,
          "answered": true,
          "answer": "Place config.ts in apps/example/ directory for now, can move to shared package later if needed"
        }
      ],
      "nextQuestionId": 3,
      "architectureNotes": [
        {
          "id": 0,
          "text": "Expo environment variables use EXPO_PUBLIC_ prefix for client-side access. config.ts validates required variables at module load time (fail-fast). .env file gitignored for security. .env.example provides template.",
          "deleted": false,
          "createdAt": "2025-11-21T10:28:12.899Z"
        }
      ],
      "nextNoteId": 1,
      "attachments": [
        "spec/attachments/JAM-004/ast-research-baseApi.json"
      ],
      "updated": "2025-11-21T10:52:51.122Z"
    },
    "JAM-005": {
      "id": "JAM-005",
      "title": "Integrate Redux Provider in app root layout",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:39.216Z",
      "updatedAt": "2025-11-21T10:54:39.498Z",
      "description": "Update apps/example/app/_layout.tsx to wrap app with Redux Provider and configure store",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-002"
      ],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T10:23:33.057Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T10:34:11.638Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T10:37:43.711Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T10:45:03.955Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T10:54:39.498Z"
        }
      ],
      "userStory": {
        "role": "mobile app developer",
        "action": "use Redux state management throughout the app",
        "benefit": "I have centralized state and API caching available in all screens"
      },
      "questions": [
        {
          "id": 0,
          "text": "@human: Should Redux Provider wrap ThemeProvider, or vice versa? What's the correct nesting order for providers?",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:17.090Z",
          "selected": true,
          "answered": true,
          "answer": "ThemeProvider wraps Redux Provider (Provider is nested inside ThemeProvider)"
        },
        {
          "id": 1,
          "text": "@human: Should we enable Redux DevTools integration for development builds?",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:18.043Z",
          "selected": true,
          "answered": true,
          "answer": "Yes, enable Redux DevTools integration for development builds"
        }
      ],
      "nextQuestionId": 2,
      "rules": [
        {
          "id": 0,
          "text": "Redux Provider must be placed in the root layout to make store accessible to all screens",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:18.965Z"
        },
        {
          "id": 1,
          "text": "Provider must be configured with the store from @jamendo/rtk-services package",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:19.846Z"
        },
        {
          "id": 2,
          "text": "Integration must not break existing navigation or theme functionality",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:20.785Z"
        },
        {
          "id": 3,
          "text": "Redux DevTools must be enabled in development builds for debugging",
          "deleted": false,
          "createdAt": "2025-11-21T10:26:48.131Z"
        }
      ],
      "nextRuleId": 4,
      "examples": [
        {
          "id": 0,
          "text": "Developer imports Provider and store in _layout.tsx and wraps app tree",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:30.744Z"
        },
        {
          "id": 1,
          "text": "Screen component uses useSearchTracksQuery hook and successfully fetches data through Redux store",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:31.661Z"
        },
        {
          "id": 2,
          "text": "User switches between light and dark themes, theme continues to work with Redux Provider present",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:32.579Z"
        },
        {
          "id": 3,
          "text": "User navigates between tabs, navigation works normally with Redux store available",
          "deleted": false,
          "createdAt": "2025-11-21T10:25:33.458Z"
        },
        {
          "id": 4,
          "text": "Developer opens Redux DevTools in development build and sees current store state with API cache",
          "deleted": false,
          "createdAt": "2025-11-21T10:26:48.744Z"
        }
      ],
      "nextExampleId": 5,
      "estimate": 3,
      "architectureNotes": [
        {
          "id": 0,
          "text": "Redux Provider integration in apps/example/app/_layout.tsx using @jamendo/rtk-services package. Provider wraps app inside existing ThemeProvider to maintain theme functionality. Store configuration imported from @jamendo/rtk-services/src/store.ts with baseApi RTK Query service pre-configured. Redux DevTools configured via __DEV__ flag for development-only enablement.",
          "deleted": false,
          "createdAt": "2025-11-21T10:33:38.186Z"
        }
      ],
      "nextNoteId": 1,
      "attachments": [
        "spec/attachments/JAM-005/ast-research-root-layout-structure.json"
      ],
      "updated": "2025-11-21T10:54:39.498Z"
    },
    "JAM-006": {
      "id": "JAM-006",
      "title": "Build Home page with search and track results",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:45.533Z",
      "updatedAt": "2025-11-21T12:04:51.128Z",
      "description": "Implement search screen at apps/example/app/(tabs)/index.tsx with SearchBar, RTK Query integration (useSearchTracksQuery), TrackList with FlashList, and navigation to track detail",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-002",
        "JAM-003",
        "JAM-004",
        "JAM-005"
      ],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T11:35:47.585Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T11:42:13.371Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T12:00:57.144Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T12:03:01.118Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T12:04:51.128Z"
        }
      ],
      "userStory": {
        "role": "music listener",
        "action": "search for tracks and view results",
        "benefit": "I can discover and explore music on Jamendo"
      },
      "rules": [
        {
          "id": 0,
          "text": "Search bar must be visible at the top of the home screen",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:08.378Z"
        },
        {
          "id": 1,
          "text": "Track results must be displayed using FlashList for performance",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:09.139Z"
        },
        {
          "id": 2,
          "text": "Search must use RTK Query useSearchTracksQuery hook",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:09.880Z"
        },
        {
          "id": 3,
          "text": "Tapping a track must navigate to track detail screen",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:10.598Z"
        }
      ],
      "nextRuleId": 4,
      "examples": [
        {
          "id": 0,
          "text": "User opens home screen and sees search bar with placeholder text 'Search tracks...'",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:19.312Z"
        },
        {
          "id": 1,
          "text": "User types 'jazz' in search bar and sees list of jazz tracks with titles, artists, and album art",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:20.069Z"
        },
        {
          "id": 2,
          "text": "User taps on a track from search results and is taken to track detail screen showing full track information",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:20.866Z"
        },
        {
          "id": 3,
          "text": "User searches for tracks and can scroll through results smoothly using FlashList",
          "deleted": false,
          "createdAt": "2025-11-21T11:36:21.578Z"
        }
      ],
      "nextExampleId": 4,
      "architectureNotes": [
        {
          "id": 0,
          "text": "Implementation will be in apps/example/app/(tabs)/index.tsx using Expo Router file-based navigation",
          "deleted": false,
          "createdAt": "2025-11-21T11:40:49.522Z"
        },
        {
          "id": 1,
          "text": "Uses RTK Query useSearchTracksQuery hook from @jamendo/rtk-services package for API integration with Jamendo API",
          "deleted": false,
          "createdAt": "2025-11-21T11:40:50.363Z"
        },
        {
          "id": 2,
          "text": "Track list uses FlashList from @shopify/flash-list for performant rendering of large lists",
          "deleted": false,
          "createdAt": "2025-11-21T11:40:51.290Z"
        },
        {
          "id": 3,
          "text": "Navigation to track detail uses Expo Router's useRouter hook for programmatic navigation",
          "deleted": false,
          "createdAt": "2025-11-21T11:40:52.223Z"
        }
      ],
      "nextNoteId": 4,
      "attachments": [
        "spec/attachments/JAM-006/ast-research-home-screen-structure.json"
      ],
      "questions": [],
      "nextQuestionId": 0,
      "updated": "2025-11-21T12:04:51.128Z"
    },
    "JAM-007": {
      "id": "JAM-007",
      "title": "Build Track detail page with dual audio players",
      "type": "story",
      "status": "done",
      "createdAt": "2025-11-21T09:26:51.233Z",
      "updatedAt": "2025-11-21T23:08:21.796Z",
      "description": "Implement track detail screen at apps/example/app/track/[id].tsx with ScrollView layout, track information, and both ExpoAudioPlayer and AudioProPlayer for comparison",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-002",
        "JAM-003"
      ],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-21T12:04:42.904Z"
        },
        {
          "state": "testing",
          "timestamp": "2025-11-21T12:25:41.105Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-21T23:07:28.905Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-21T23:07:33.181Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-21T23:08:21.796Z"
        }
      ],
      "userStory": {
        "role": "music listener using the Jamendo app",
        "action": "view detailed information about a track and compare different audio players",
        "benefit": "I can make an informed decision about which track to listen to and evaluate playback quality"
      },
      "rules": [
        {
          "id": 0,
          "text": "Track detail page must display title, release date, album art, and additional fields to fill the page",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:01.763Z"
        },
        {
          "id": 1,
          "text": "Audio player must be fixed at the bottom of the page",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:05.149Z"
        },
        {
          "id": 2,
          "text": "Track details must scroll underneath the fixed audio player",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:08.992Z"
        },
        {
          "id": 3,
          "text": "Track data must be fetched using the API integration from JAM-002",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:13.052Z"
        },
        {
          "id": 4,
          "text": "User navigates to track detail page by tapping a track from JAM-006 search results",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:16.389Z"
        },
        {
          "id": 5,
          "text": "Skeleton loading state must be displayed while track details are loading",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:19.960Z"
        },
        {
          "id": 6,
          "text": "Error message must be displayed if track ID is invalid or track data fails to load",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:24.109Z"
        }
      ],
      "nextRuleId": 7,
      "questions": [
        {
          "id": 0,
          "text": "@human: You mentioned we need ONE player at the bottom. The work unit description mentions BOTH ExpoAudioPlayer AND AudioProPlayer for comparison. Should we use only one player, or both? If both, how should they be positioned?",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:30.117Z",
          "selected": true,
          "answered": true,
          "answer": "Use only ExpoAudioPlayer (not AudioProPlayer) for this iteration"
        },
        {
          "id": 1,
          "text": "@human: What additional fields should we display besides title, release date, and album art? (e.g., artist name, album name, duration, genre, license, tags, download count?)",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:34.771Z",
          "selected": true,
          "answered": true,
          "answer": "Display artist name, album name, duration, genre, license, and tags in addition to title, release date, and album art"
        },
        {
          "id": 2,
          "text": "@human: What should the error message say when a track fails to load or has an invalid ID?",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:38.177Z",
          "selected": true,
          "answered": true,
          "answer": "Display message: 'Failed to load track details. Please try again.'"
        },
        {
          "id": 3,
          "text": "@human: Should the audio player start playing automatically when the page loads, or wait for user interaction?",
          "deleted": false,
          "createdAt": "2025-11-21T12:08:42.641Z",
          "selected": true,
          "answered": true,
          "answer": "Audio player should NOT autoplay - wait for user to press play button"
        }
      ],
      "nextQuestionId": 4,
      "examples": [
        {
          "id": 0,
          "text": "User taps track 'Summer Vibes' from search results, navigates to /track/12345, sees skeleton loading, then track details appear with title, artist, album art, release date, duration, genre, license, tags, and ExpoAudioPlayer at bottom",
          "deleted": false,
          "createdAt": "2025-11-21T12:11:48.497Z"
        },
        {
          "id": 1,
          "text": "User scrolls down through track details, player remains fixed at bottom, details scroll underneath player",
          "deleted": false,
          "createdAt": "2025-11-21T12:11:52.814Z"
        },
        {
          "id": 2,
          "text": "User navigates to /track/invalid-id, sees error message 'Failed to load track details. Please try again.'",
          "deleted": false,
          "createdAt": "2025-11-21T12:11:56.410Z"
        },
        {
          "id": 3,
          "text": "User loads track detail page, audio player shows play button (not playing), user taps play button, audio starts playing",
          "deleted": false,
          "createdAt": "2025-11-21T12:12:01.475Z"
        },
        {
          "id": 4,
          "text": "API request fails with network error, user sees error message 'Failed to load track details. Please try again.'",
          "deleted": false,
          "createdAt": "2025-11-21T12:12:05.096Z"
        }
      ],
      "nextExampleId": 5,
      "estimate": 5,
      "architectureNotes": [
        {
          "id": 0,
          "text": "Track detail page implementation at apps/example/app/track/[id].tsx using Expo Router dynamic routing. Page will use useGetTrackDetailQuery hook from @jamendo/rtk-services to fetch track data by ID from route params.",
          "deleted": false,
          "createdAt": "2025-11-21T12:21:01.980Z"
        },
        {
          "id": 1,
          "text": "Layout structure: ScrollView for scrollable content with ThemedView/ThemedText components following existing pattern from index.tsx. Audio player positioned using absolute positioning with bottom: 0, left: 0, right: 0 to create fixed bottom bar. ScrollView will have paddingBottom to prevent content overlap.",
          "deleted": false,
          "createdAt": "2025-11-21T12:21:08.665Z"
        },
        {
          "id": 2,
          "text": "State management: Uses RTK Query's useGetTrackDetailQuery which provides { data, isLoading, error } states automatically. Skeleton loading state rendered when isLoading=true, error message shown when error exists, track details displayed when data exists. No local state needed beyond RTK Query.",
          "deleted": false,
          "createdAt": "2025-11-21T12:21:14.317Z"
        },
        {
          "id": 3,
          "text": "Audio player integration: Will use expo-av's Audio API for playback. ExpoAudioPlayer component (from JAM-003) receives track.audio URL and track metadata. Player controls playback state internally, exposes play/pause controls. No autoplay - user must press play button.",
          "deleted": false,
          "createdAt": "2025-11-21T12:21:20.698Z"
        },
        {
          "id": 4,
          "text": "Navigation integration: Page accessible via Expo Router Link from JAM-006 search results using href='/track/{trackId}'. Route param accessed via useLocalSearchParams() hook. Back navigation handled by Stack navigator from root _layout.tsx.",
          "deleted": false,
          "createdAt": "2025-11-21T12:21:27.835Z"
        },
        {
          "id": 5,
          "text": "Dependencies alignment: Depends on JAM-002 (RTK services with useGetTrackDetailQuery hook) and JAM-003 (ExpoAudioPlayer component). Track detail page acts as consumer of both packages, demonstrating monorepo integration. Uses @jamendo/rtk-services for data fetching and @jamendo/components for audio playback.",
          "deleted": false,
          "createdAt": "2025-11-21T12:21:33.419Z"
        }
      ],
      "nextNoteId": 6,
      "attachments": [
        "spec/attachments/JAM-007/ast-research-root-layout-structure.json",
        "spec/attachments/JAM-007/ast-research-home-screen-structure.json",
        "spec/attachments/JAM-007/ast-research-jamendo-api.json"
      ],
      "updated": "2025-11-21T23:08:21.796Z"
    },
    "JAM-008": {
      "id": "JAM-008",
      "title": "Update navigation and tab bar configuration",
      "type": "story",
      "status": "backlog",
      "createdAt": "2025-11-21T09:26:56.462Z",
      "updatedAt": "2025-11-21T09:27:38.524Z",
      "description": "Update apps/example/app/(tabs)/_layout.tsx to rename tabs, add music-related icons, and configure stack navigation for track detail page",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-006",
        "JAM-007"
      ]
    },
    "JAM-009": {
      "id": "JAM-009",
      "title": "Testing and validation of complete app",
      "type": "story",
      "status": "backlog",
      "createdAt": "2025-11-21T09:27:01.827Z",
      "updatedAt": "2025-11-21T09:27:42.613Z",
      "description": "Verify API usage optimization (minimal vs full fields), test both audio player implementations, validate FlashList performance, test navigation flow, and verify Redux DevTools integration",
      "epic": "jamendo-app",
      "children": [],
      "dependsOn": [
        "JAM-008"
      ]
    },
    "JAM-010": {
      "id": "JAM-010",
      "title": "Optimize CI pipeline - remove duplicate lint, typecheck, and build steps",
      "type": "task",
      "status": "done",
      "createdAt": "2025-11-22T06:03:02.583Z",
      "updatedAt": "2025-11-22T06:15:16.595Z",
      "children": [],
      "stateHistory": [
        {
          "state": "specifying",
          "timestamp": "2025-11-22T06:09:31.561Z"
        },
        {
          "state": "implementing",
          "timestamp": "2025-11-22T06:12:37.132Z"
        },
        {
          "state": "validating",
          "timestamp": "2025-11-22T06:13:58.676Z"
        },
        {
          "state": "done",
          "timestamp": "2025-11-22T06:15:16.595Z"
        }
      ],
      "userStory": {
        "role": "DevOps Engineer",
        "action": "optimize the CI pipeline by removing duplicate steps",
        "benefit": "reduce CI runtime and improve workflow efficiency"
      },
      "rules": [
        {
          "id": 0,
          "text": "Lint and typecheck are duplicated in both test.yml and preview.yml workflows",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:46.273Z"
        },
        {
          "id": 1,
          "text": "Both workflows should use a shared job or reusable workflow for lint and typecheck",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:46.897Z"
        },
        {
          "id": 2,
          "text": "Each workflow file (test.yml, preview.yml) should be optimized to remove redundancy",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:47.513Z"
        }
      ],
      "nextRuleId": 3,
      "examples": [
        {
          "id": 0,
          "text": "test.yml has a 'lint-and-typecheck' job that is duplicated identically in preview.yml",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:51.197Z"
        },
        {
          "id": 1,
          "text": "After optimization, both workflows reference the same reusable workflow file or shared job template",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:51.809Z"
        },
        {
          "id": 2,
          "text": "test.yml build job depends on lint-and-typecheck; preview.yml example job depends on lint-and-typecheck",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:52.428Z"
        }
      ],
      "nextExampleId": 3,
      "questions": [
        {
          "id": 0,
          "text": "@human: Should we use a reusable workflow file (.github/workflows/lint-and-typecheck.yml) or extract it into a separate workflow that other workflows call with 'uses:'?",
          "deleted": false,
          "createdAt": "2025-11-22T06:10:56.694Z",
          "selected": true,
          "answered": true,
          "answer": "Use a reusable workflow file (.github/workflows/lint-and-typecheck.yml) that both test.yml and preview.yml call via 'uses:' to centralize the shared quality checks"
        }
      ],
      "nextQuestionId": 1,
      "estimate": 5,
      "architectureNotes": [],
      "nextNoteId": 0,
      "updated": "2025-11-22T06:15:16.595Z"
    },
    "JAM-011": {
      "id": "JAM-011",
      "title": "Track Details with Animated Header Image",
      "type": "task",
      "status": "backlog",
      "createdAt": "2025-11-22T07:49:33.326Z",
      "updatedAt": "2025-11-22T07:49:33.326Z",
      "description": "Implement track details screen with animated header image that fades in as user scrolls, using dual-image fade pattern with React Native Reanimated. Includes TrackDetailView, AnimatedTrackHeader, TrackMetadata, and TrackPlayerControls components. Uses existing RTK Query hook for data fetching. See docs/track-details-animation.md for complete architecture.",
      "epic": "jamendo-app",
      "children": []
    }
  },
  "states": {
    "backlog": [
      "COMP-001",
      "JAM-008",
      "JAM-009",
      "JAM-011"
    ],
    "specifying": [],
    "testing": [],
    "implementing": [],
    "validating": [],
    "done": [
      "JAM-010",
      "JAM-007",
      "JAM-006",
      "JAM-003",
      "JAM-001",
      "JAM-005",
      "JAM-004",
      "JAM-002",
      "FOUND-001"
    ],
    "blocked": []
  },
  "prefixCounters": {
    "COMP": 1,
    "JAM": 11
  }
}